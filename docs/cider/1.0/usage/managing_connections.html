<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Managing Connections :: CIDER Docs</title>
    <link rel="canonical" href="https://docs.cider.mx/cider/usage/managing_connections.html">
    <link rel="prev" href="working_with_documentation.html">
    <link rel="next" href="misc_features.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
<link rel="stylesheet" href="../../../_/css/site-extra.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@alpha">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-140176314-1"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','UA-140176314-1')</script>
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a href="https://cider.mx">CIDER</a>
        <span class="separator">//</span>
        <a href="https://docs.cider.mx">Docs</a>
      </div>
      <div class="navbar-item">
        <div id="docsearch"></div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Projects</a>
          <div class="navbar-dropdown">
              <a class="navbar-item" href="https://github.com/clojure-emacs/cider">CIDER</a>
              <a class="navbar-item" href="https://github.com/clojure-emacs/cider-nrepl">CIDER nREPL</a>
              <a class="navbar-item" href="https://github.com/clojure-emacs/orchard">Orchard</a>
              <a class="navbar-item" href="https://github.com/clojure-emacs/clojure-mode">clojure-mode</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="/cider/about/support.html">Support</a>
            <a class="navbar-item" href="/cider/contributing.html">Contributing</a>
            <a class="navbar-item" href="https://opencollective.com/cider">Open Collective</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="cider" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">CIDER</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Getting Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../basics/installation.html">Installation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../basics/up_and_running.html">Up and Running</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../basics/middleware_setup.html">nREPL Middleware Setup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">ClojureScript Setup</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cljs/overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cljs/up_and_running.html">Up and Running</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cljs/configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cljs/figwheel.html">Using Figwheel</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cljs/shadow-cljs.html">Using shadow-cljs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cljs/other_repls.html">Using Other REPLs</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Alternative Platforms</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../platforms/overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../platforms/babashka.html">Babashka</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Using CIDER</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="interactive_programming.html">Interactive Programming</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cider_mode.html">Using cider-mode</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="code_evaluation.html">Code Evaluation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="code_completion.html">Code Completion</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pretty_printing.html">Pretty Printing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dealing_with_errors.html">Dealing with Errors</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="working_with_documentation.html">Working with Documentation</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="managing_connections.html">Managing Connections</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="misc_features.html">Misc Features</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Using the REPL</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../repl/basic_usage.html">Basic Usage</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../repl/keybindings.html">Keybindings</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../repl/configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../repl/history.html">REPL History</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Testing</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../testing/running_tests.html">Running Tests</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../testing/test_reports.html">Test Reports</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../testing/supported_libraries.html">Supported Libraries</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Debugging</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../debugging/debugger.html">Debugger</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../debugging/enlighten.html">Enlighten</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../debugging/inspector.html">Inspector</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../debugging/macroexpansion.html">Macroexpansion</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../debugging/profiling.html">Profiling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../debugging/tracing.html">Tracing</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Configuration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../config/basic_config.html">Basic Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../config/syntax_highlighting.html">Syntax Highlighting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../config/indentation.html">Indentation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../config/eldoc.html">Eldoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../config/project_config.html">Project-specific Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../indent_spec.html">Indentation Specification</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../caveats.html">Caveats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../troubleshooting.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../faq.html">FAQ</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../additional_packages.html">Additional Packages</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../additional_resources.html">Additional Resources</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../contributing.html">Contributing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contributing/docs.html">Documentation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contributing/hacking.html">Hacking on CIDER</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contributing/funding.html">Funding</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">About</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../about/history.html">History</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../about/team.html">Team</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../about/support.html">Support</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../about/changelog.html">Changelog</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../about/release_policy.html">Release Policy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../about/compatibility.html">Compatibility</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../about/logo.html">Logo</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../about/license.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">CIDER</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../../index.html">CIDER</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../index.html">default</a>
        </li>
        <li class="version">
          <a href="../../1.9/index.html">1.9</a>
        </li>
        <li class="version">
          <a href="../../1.8/index.html">1.8</a>
        </li>
        <li class="version">
          <a href="../../1.7/index.html">1.7</a>
        </li>
        <li class="version">
          <a href="../../1.6/index.html">1.6</a>
        </li>
        <li class="version">
          <a href="../../1.5/index.html">1.5</a>
        </li>
        <li class="version">
          <a href="../../1.4/index.html">1.4</a>
        </li>
        <li class="version">
          <a href="../../1.3/index.html">1.3</a>
        </li>
        <li class="version">
          <a href="../../1.2/index.html">1.2</a>
        </li>
        <li class="version">
          <a href="../../1.1/index.html">1.1</a>
        </li>
        <li class="version is-current">
          <a href="../index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../cider-nrepl/index.html">CIDER nREPL</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../cider-nrepl/index.html">default</a>
        </li>
        <li class="version">
          <a href="../../../cider-nrepl/0.26/index.html">0.26</a>
        </li>
        <li class="version">
          <a href="../../../cider-nrepl/0.25/index.html">0.25</a>
        </li>
        <li class="version">
          <a href="../../../cider-nrepl/0.24/index.html">0.24</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">CIDER</a></li>
    <li>Using CIDER</li>
    <li><a href="managing_connections.html">Managing Connections</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">1.0</button>
  <div class="version-menu">
    <a class="version" href="../../usage/managing_connections.html">default</a>
    <a class="version" href="../../1.9/usage/managing_connections.html">1.9</a>
    <a class="version" href="../../1.8/usage/managing_connections.html">1.8</a>
    <a class="version" href="../../1.7/usage/managing_connections.html">1.7</a>
    <a class="version" href="../../1.6/usage/managing_connections.html">1.6</a>
    <a class="version" href="../../1.5/usage/managing_connections.html">1.5</a>
    <a class="version" href="../../1.4/usage/managing_connections.html">1.4</a>
    <a class="version" href="../../1.3/usage/managing_connections.html">1.3</a>
    <a class="version" href="../../1.2/usage/managing_connections.html">1.2</a>
    <a class="version" href="../../1.1/usage/managing_connections.html">1.1</a>
    <a class="version is-current" href="managing_connections.html">1.0</a>
  </div>
</div>
<div class="edit-this-page"><a href="https://github.com/clojure-emacs/cider/blob/v1.0.0/doc/modules/ROOT/pages/usage/managing_connections.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Managing Connections</h1>
<div id="preamble">
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Because nREPL connections map one-to-one to REPL buffers in
CIDER, for the purpose of this section we use "REPL" and "connection"
interchangeably.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Life&#8217;s easy when you&#8217;re always working only on a single project with a single Clojure connection. If you&#8217;re lucky
enough to be one of those people then you can safely skip reading this section. Its target audience are
people who have to work simultaneously on multiple projects or have multiple connections opened for the same project (e.g. a Clojure and a ClojureScript one).</p>
</div>
<div class="paragraph">
<p>It turns out that it&#8217;s really hard to map reliably operations originating in source buffers (e.g. code evaluation) to the right
connection buffer, as there are many things you have to take into account:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Is the connection mapped to some project or not?</p>
</li>
<li>
<p>Do you have multiple connections mapped to the same project? (e.g. a Clojure and ClojureScript REPL)</p>
</li>
<li>
<p>Do you have multiple connections of the same type mapped to the same project? (e.g. several Clojure REPLs)</p>
</li>
<li>
<p>What should happen if you try to evaluate code that&#8217;s outside of a project?</p>
</li>
<li>
<p>Where should you dispatch operations originating in <code>.cljc</code> files? To the Clojure REPL? The ClojureScript REPL? To both REPLs?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>CIDER started out without any support for multiple connections and through the years we&#8217;ve had several different ideas on how to support multiple connections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Originally there was a static dispatch mechanism. You&#8217;d just manually select the active connection from a list of connections and
all operations would be routed to it. This approach was simple and effective, but required you to constantly keep track of whether
you&#8217;re using the right connection. This problem was further compounded by the creation of ClojureScript.</p>
</li>
<li>
<p>Eventually we introduced the concept of dynamic dispatch, where we&#8217;d use a combination of the filename extension and the project directory to figure out where to send operations. This approach worked reasonably well, but was problematic when you had multiple connections of the same type for the same project. There was also no logical grouping of related connections.</p>
</li>
<li>
<p>This brings us to the present - today&#8217;s approach to managing multiple connections is an evolution of the dynamic dispatch.
Related connections are grouped together in sessions, which are tied to some context (typically a project directory). If some
operation dispatch is ambiguous it will fail with an error message. You can manually link (attach) buffers, files and directories
to sessions in such situations.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the following sections we&#8217;ll go over the basic terminology with respect to connection management, and we&#8217;ll cover
the typical scenarios you&#8217;d normally have to deal with. The topic might seem a bit intimidating, but it&#8217;s actually
fairly straightforward once you get to know the terminology and wrap your head around the basic idea.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sessions"><a class="anchor" href="#sessions"></a>Sessions</h2>
<div class="sectionbody">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
In the context of this section "session" stands for a group of nREPL connections. That should not be
confused with nREPL&#8217;s own notion of a session (each nREPL connection can be segregated into multiple sessions).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>CIDER maintains a grouped view of opened nREPL connections through <a href="https://github.com/vspinu/sesman">Sesman</a>
sessions. Each session is a collection of connections which share the same nREPL
server. You can, however, have multiple sessions sharing the same nREPL server (although you&#8217;re unlikely to
ever need this).</p>
</div>
<div class="sect2">
<h3 id="starting-new-sessions"><a class="anchor" href="#starting-new-sessions"></a>Starting New Sessions</h3>
<div class="paragraph">
<p>You can start new sessions with the following commands:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><kbd>C-c C-x j j</kbd> (<code>cider-jack-in-clj</code>)</p>
</li>
<li>
<p><kbd>C-c C-x j s</kbd> (<code>cider-jack-in-cljs</code>)</p>
</li>
<li>
<p><kbd>C-c C-x j m</kbd> (<code>cider-jack-in-clj&amp;cljs</code>)</p>
</li>
<li>
<p><kbd>C-c C-x c j</kbd> (<code>cider-connect-clj</code>)</p>
</li>
<li>
<p><kbd>C-c C-x c s</kbd> (<code>cider-connect-cljs</code>)</p>
</li>
<li>
<p><kbd>C-c C-x c m</kbd> (<code>cider-connect-clj&amp;cljs</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a command creates multiple REPLs (e.g. <code>cider-jack-in-clj&amp;cljs</code>) they are going to be added to the same session.</p>
</div>
<div class="paragraph">
<p>You&#8217;ll normally get a warning if you try to create a new session for
some project if there&#8217;s already an existing session for it (e.g. after
running <code>cider-jack-in-cljs</code> after <code>cider-jack-in-clj</code> for the same
project). Generally in such cases it&#8217;s preferred to use commands that
can add more REPLs to the existing session. We&#8217;ll cover those in the next section.</p>
</div>
</div>
<div class="sect2">
<h3 id="adding-repls-to-a-session"><a class="anchor" href="#adding-repls-to-a-session"></a>Adding REPLs to a Session</h3>
<div class="paragraph">
<p>You can add new REPLs to the current session with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><kbd>C-c C-x s j</kbd> (<code>cider-connect-sibling-clj</code>)</p>
</li>
<li>
<p><kbd>C-c C-x s s</kbd> (<code>cider-connect-sibling-cljs</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A very common use-case would be to run <code>cider-jack-in-clj</code> for some project and then follow up with <code>cider-connect-sibling-cljs</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Unless there are both Clojure and ClojureScript REPLs in the same session smart-dispatch commands (e.g. evaluate the code
in the right Clojure/ClojureScript REPL, toggle between Clojure and ClojureScript REPL) won&#8217;t work. A very common problem
newcomers experience is to create a Clojure REPL and a ClojureScript REPL in separate sessions and wonder why those are not
interacting properly with one another.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="session-life-cycle-management"><a class="anchor" href="#session-life-cycle-management"></a>Session Life-Cycle Management</h3>
<div class="paragraph">
<p>Session life-cycle management commands live on the <a href="https://github.com/vspinu/sesman">Sesman</a> keymap (<kbd>C-c C-s</kbd>)</p>
</div>
<div class="ulist">
<ul>
<li>
<p><kbd>C-c C-s s</kbd> (<code>sesman-start</code>)</p>
</li>
<li>
<p><kbd>C-c C-s r</kbd> (<code>sesman-restart</code>)</p>
</li>
<li>
<p><kbd>C-c C-s q</kbd> (<code>sesman-quit</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The command <code>sesman-start</code> wraps around all of the aforementioned <code>jack-in</code> and
<code>connect</code> commands. You can also invoke same functionality with <kbd>M-x</kbd>
<code>cider</code> or <kbd>C-c M-x</kbd>.</p>
</div>
<div class="paragraph">
<p>To quit or restart individual connections use CIDER commands</p>
</div>
<div class="ulist">
<ul>
<li>
<p><kbd>C-c C-q</kbd> (<code>cider-quit</code>)</p>
</li>
<li>
<p><kbd>C-c M-r</kbd> (<code>cider-restart</code>)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="current-session"><a class="anchor" href="#current-session"></a>Current Session</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All CIDER commands (evaluation, completion, switching to REPL etc.) operate on
the relevant REPL within the current session. The current session is the most
relevant session among all linked session (or friendly sessions when no links
exist). Session relevance is decided by the specificity of the linked contexts
and recency of the REPL buffers.</p>
</div>
<div class="paragraph">
<p>If the current context is linked to a single session then that session is the
current one. If multiple sessions are linked to a context (say, a project) then
the current session is the one containing the most recently viewed REPL.</p>
</div>
<div class="paragraph">
<p>Links to more specific contexts have precedence. For example, if you have two
sessions linked to the same project and another to a directory within that
project, then the session linked to the directory is the current session. Thus,
again, there is no ambiguity.</p>
</div>
<div class="paragraph">
<p>By default <a href="https://github.com/vspinu/sesman">Sesman</a> allows multiple simultaneous links to projects and
directories, but only one link per buffer. See <code>sesman-single-link-contexts</code> if
you would like to change that.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="current-repl"><a class="anchor" href="#current-repl"></a>Current REPL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The current REPL is the most relevant REPL from the current session. REPL relevance
is determined by the type of the current buffer. For example if the current
buffer is a <code>clj</code> buffer then a <code>clj</code> REPL is selected. Ambiguous situations could
arise when, for instance, there are multiple <code>clj</code> REPLs within a session, or
the current buffer is a <code>cljc</code> buffer and both <code>clj</code> and <code>cljs</code> REPLs exist in
the session. In such cases the current REPL is the most recently viewed REPL of
the relevant type.</p>
</div>
<div class="paragraph">
<p>Switch to the current REPL buffer with <kbd>C-c C-z</kbd>. You can then use the
same key combination to switch back to the Clojure(Script) buffer that you came
from.</p>
</div>
<div class="paragraph">
<p>The single prefix <kbd>C-u C-c C-z</kbd>, will switch to the current REPL buffer
and set the namespace in that buffer based on namespace in the current
Clojure(Script) buffer.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="context-links"><a class="anchor" href="#context-links"></a>Context Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sessions can be linked to contexts (projects, directories and buffers)</p>
</div>
<div class="ulist">
<ul>
<li>
<p><kbd>C-c C-s b</kbd> (<code>sesman-link-with-buffer</code>)</p>
</li>
<li>
<p><kbd>C-c C-s d</kbd> (<code>sesman-link-with-directory</code>)</p>
</li>
<li>
<p><kbd>C-c C-s p</kbd> (<code>sesman-link-with-project</code>)</p>
</li>
<li>
<p><kbd>C-c C-s u</kbd> (<code>sesman-unlink</code>)</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Typically you&#8217;ll want to invoke those commands in file buffers and occasionally is some special buffers (e.g. a scratch buffer). You should never run
them in a REPL buffer, as a REPL is an integral part of a session.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="friendly-sessions"><a class="anchor" href="#friendly-sessions"></a>Friendly Sessions</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://github.com/vspinu/sesman">Sesman</a> defines "friendly" session to allow for on-the-fly operation on
sessions from contexts where there are no explicit links. In CIDER friendly
sessions are defined by the project dependencies. For example when you use
<code>cider-find-var</code> (<kbd>M-.</kbd>) to navigate to a var definition in a
dependency project the current project&#8217;s session becomes a friendly session for
the dependency.</p>
</div>
<div class="paragraph">
<p>When you evaluate some code from a dependency project and there are no explicit
links in that project, the most recent friendly session is used to evaluate the
code. Explicitly linked sessions have precedence over the friendly sessions.</p>
</div>
<div class="paragraph">
<p>You can disable friendly session inference by customizing
<code>sesman-use-friendly-sessions</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="displaying-session-info"><a class="anchor" href="#displaying-session-info"></a>Displaying Session Info</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get info on all linked and friendly sessions in the current context with
<kbd>C-c C-s i</kbd> (<code>sesman-info</code>). On <kbd>C-u</kbd>, display info on all
CIDER sessions. For the connection specific information use CIDER&#8217;s built-in
<code>cider-describe-connection</code> (<kbd>C-c M-d</kbd>).</p>
</div>
<div class="paragraph">
<p>An interactive view of all CIDER sessions is available through the
<code>sesman-browser</code> (<kbd>C-c C-s w</kbd>).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="customizing-session-and-repl-names"><a class="anchor" href="#customizing-session-and-repl-names"></a>Customizing Session and REPL Names</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default session names consist of abbreviated project name, host and port
(e.g. <code>project/dir:localhost:1234</code>). REPL buffer name consist of the session
name and the REPL type specification post-fix
(e.g. <code>*project/dir:localhost:1234(cljs:node)*</code>).</p>
</div>
<div class="paragraph">
<p>You can customize session names with <code>cider-session-name-template</code> and REPL
names with <code>nrepl-repl-buffer-name-template</code>. See also
<code>cider-format-connection-params</code> for available formats.</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="working_with_documentation.html">Working with Documentation</a></span>
  <span class="next"><a href="misc_features.html">Misc Features</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>Copyright (C) 2012-2022 <a href="https://batsov.com">Bozhidar Batsov</a> and <a href="https://cider.mx">CIDER</a> contributors.</p>
  <p>Except where otherwise noted, docs.cider.mx is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a> (CC BY-SA 4.0).</p>
</footer>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script>
<script type="text/javascript">
 docsearch({
   appId: '1AZEMR3ZT0',
   apiKey: 'd2cfc21fce00ac9d3f787c0d8e064d42',
   indexName: 'cider',
   container: '#docsearch',
   debug: false // Set debug to true if you want to inspect the dropdown
 });
</script>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
